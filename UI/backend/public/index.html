<!DOCTYPE html>
<html lang="vi">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, viewport-fit=cover">
  <meta name="apple-mobile-web-app-capable" content="yes">
  <title>SmartClub - Tra cứu thành viên</title>
  <link rel="stylesheet" href="css/style.css">
</head>
<body>
  <!-- Language Switcher -->
  <div class="language-switcher">
    <button id="btnLangVI" class="active" onclick="switchLanguage('vi')">VI</button>
    <button id="btnLangEN" onclick="switchLanguage('en')">EN</button>
  </div>

  <div class="container">
    <div class="card">
      <img src="images/logo.png" alt="SmartClub" class="logo" onerror="this.style.display='none'">
      <h2 data-i18n="ui.title.member_lookup">TRA CỨU THÀNH VIÊN</h2>
      
      <div class="login-toggle">
        <button id="btnToggleCard" class="toggle-btn active" onclick="switchLoginMode('card')" data-i18n="ui.button.card_id">Mã thẻ</button>
        <button id="btnToggleAccount" class="toggle-btn" onclick="switchLoginMode('account')" data-i18n="ui.button.account">Tài khoản</button>
      </div>

      <div id="loginCard" class="login-form">
        <p data-i18n="ui.text.enter_card_info">Nhập mã thẻ của bạn để xem thông tin</p>
        <input type="text" id="cardCode" data-i18n="ui.placeholder.card_code" placeholder="Nhập mã thẻ..." maxlength="10">
        <button id="btnLogin" data-i18n="ui.button.login">Đăng nhập</button>
      </div>

      <div id="loginAccount" class="login-form" style="display: none;">
        <p data-i18n="ui.text.enter_username_password">Nhập tên đăng nhập và mật khẩu</p>
        <input type="text" id="username" data-i18n="ui.placeholder.username" placeholder="Tên đăng nhập (số điện thoại)..." maxlength="50">
        <input type="password" id="password" data-i18n="ui.placeholder.password" placeholder="Mật khẩu..." maxlength="100">
        <button id="btnLoginAccount" data-i18n="ui.button.login">Đăng nhập</button>
      </div>

      <p class="error" id="error"></p>
      
      <p style="margin-top: 15px; font-size: 14px;">
        <a href="forgot-password.html" style="color: #1976d2; text-decoration: none;" data-i18n="ui.link.forgot_password">Quên mật khẩu?</a>
      </p>
    </div>
  </div>

  <script src="js/i18n.js"></script>
  <script src="js/api.js"></script>
  <script src="js/main.js"></script>
  <script>
    // Khởi tạo ngôn ngữ khi trang load
    document.addEventListener('DOMContentLoaded', () => {
      initLanguageSwitcher();
      translatePage();
    });

    function initLanguageSwitcher() {
      const currentLang = window.i18n ? window.i18n.getLanguage() : 'vi';
      updateLanguageButtons(currentLang);
    }

    function translatePage() {
      if (window.i18n) {
        window.i18n.translatePage();
      }
    }

    function switchLanguage(lang) {
      if (window.i18n) {
        window.i18n.setLanguage(lang);
        updateLanguageButtons(lang);
        // Không reload, chỉ translate động
        translatePage();
      }
    }

    function updateLanguageButtons(lang) {
      const btnVI = document.getElementById('btnLangVI');
      const btnEN = document.getElementById('btnLangEN');
      if (btnVI && btnEN) {
        if (lang === 'vi') {
          btnVI.classList.add('active');
          btnEN.classList.remove('active');
        } else {
          btnVI.classList.remove('active');
          btnEN.classList.add('active');
        }
      }
    }
  </script>
</body>
</html>
